<!DOCTYPE Html>
<html lang="en">
<head>
<title>KB4IT</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Asciidoctor 2.0.10">
    <meta name="description" content="KB4IT document">
    <meta name="author" content="KB4IT by t00mlabs.net">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="resources/uikit/css/uikit.min.css">
    <link rel="stylesheet" href="resources/uikit/css/coderay-asciidoctor.css">
    <link rel="stylesheet" href="resources/uikit/css/print.css" type="text/css" media="print" />
    <script src="resources/uikit/js/uikit.min.js"></script>
    <script src="resources/uikit/js/uikit-icons.min.js"></script>
</head>
<body>
<div uk-grid>
    <!-- LEFT MENU :: START -->
    <div id="kb4it-menu" class=" uk-card-default uk-width-1-5@m uk-padding-small" style="border-right:1px solid transparent;">
        <div uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky; bottom: #transparent-sticky-navbar;">
            <div class="uk-card uk-card-body uk-padding-medium uk-padding-remove-top uk-padding-remove-bottom">
                <nav class="uk-navbar-container uk-margin" style="background-color: transparent;" uk-navbar>
                    <div class="uk-navbar-left">
                        <li class="uk-link-toggle uk-text-bolder">
                            <a class="uk-navbar-item uk-logo uk-link-heading" href="index.html"><span class="uk-label uk-label-danger">KB4IT</span></a>
                        </li>
                        <li class="uk-link-toggle uk-text-bolder">
                            <a class="uk-link-heading" href="help.html"><span class="uk-margin-small-right" uk-icon="icon: lifesaver"></span></a>
                        </li>
                        <li class="uk-link-toggle uk-text-bolder">
                            <a class="uk-link-heading" href="about.html"><span class="uk-margin-small-right" uk-icon="icon: star"></span></a>
                        </li>
                    </div>
                </nav>
            </div>
            <div class="uk-card uk-card-body uk-padding-large uk-padding-remove-top">
                <ul class="uk-nav uk-nav-default uk-panel uk-panel-scrollable" style="border: 1px solid transparent;" uk-height-viewport="expand: false">
<li class="uk-nav-header uk-padding-small uk-padding-remove-bottom uk-text-bold">Contents</li>
<ul class="uk-nav uk-nav-default">
<li class="uk-link-toggle"><a class="uk-link-heading" href="#_metadata">Metadata</a></li>
<li class="uk-link-toggle"><a class="uk-link-heading" href="#_introduction">Introduction</a></li>
<li class="uk-link-toggle"><a class="uk-link-heading" href="#_procedure">Procedure</a>
<ul class="uk-nav-sub">
<li class="uk-link-toggle"><a class="uk-link-heading" href="#_abap">ABAP</a></li>
<li class="uk-link-toggle"><a class="uk-link-heading" href="#_java">JAVA</a></li>
<li class="uk-link-toggle"><a class="uk-link-heading" href="#_database">Database</a></li>
</ul>
</li>
</ul>
                </ul>
            </div>
        </div>
    </div>
    <!-- LEFT MENU :: END -->
    <!-- CONTENTS (Document) :: START -->
    <div class="uk-width-expand@m">
        <div class="uk-card uk-card-body">
<h1>Get SAP status from command line</h1>
<div hidden>
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_metadata">Metadata</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_procedure">Procedure</a>
<ul class="sectlevel2">
<li><a href="#_abap">ABAP</a></li>
<li><a href="#_java">JAVA</a></li>
<li><a href="#_database">Database</a></li>
</ul>
</li>
</ul>
</div>
<div id="kb4it-doc-metadata" class="uk-margin-small-bottom uk-card uk-card-body uk-card-hover uk-border-rounded uk-background-muted noprint" style="border: 1px solid black;">
<h2 id="_metadata">Metadata</h2>
<div class="uk-container">
<!-- Document Metadata section :: START -->
<!-- Use <ul uk-accordion active="0"> to show metadata section by default -->
<ul uk-accordion>
    <li>
        <a class="uk-accordion-title uk-text-primary" href="#">Show</a>
        <div class="uk-accordion-content">
            <table class="uk-table uk-table-small">
              <tr>
                <td><a class="uk-link-toggle" href="Author.html"><div class="uk-text-bold uk-text-secondary">Author</div></a></td>
                <td><div class="uk-flex uk-flex-row uk-flex-wrap"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Author_Tomás_Vírseda.html">
        <span class="uk-text-bold uk-padding-small">Tomás Vírseda</span>
    </a>
</div>
</div></td>
                <td><a class="uk-link-toggle" href="Category.html"><div class="uk-text-bold uk-text-secondary">Category</div></a></td>
                <td><div class="uk-flex uk-flex-row uk-flex-wrap"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Category_Note.html">
        <span class="uk-text-bold uk-padding-small">Note</span>
    </a>
</div>
</div></td>
                <td><a class="uk-link-toggle" href="Scope.html"><div class="uk-text-bold uk-text-secondary">Scope</div></a></td>
                <td><div class="uk-flex uk-flex-row uk-flex-wrap"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Scope_SAP_Administration.html">
        <span class="uk-text-bold uk-padding-small">SAP Administration</span>
    </a>
</div>
</div></td>
              </tr>
              <tr>
                <td><a class="uk-link-toggle" href="Team.html"><div class="uk-text-bold uk-text-secondary">Team</div></a></td>
                <td><div class="uk-flex uk-flex-row uk-flex-wrap"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Team_SAP.html">
        <span class="uk-text-bold uk-padding-small">SAP</span>
    </a>
</div>
</div></td>
                <td><a class="uk-link-toggle" href="Status.html"><div class="uk-text-bold uk-text-secondary">Status</div></a></td>
                <td><div class="uk-flex uk-flex-row uk-flex-wrap"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Status_Draft.html">
        <span class="uk-text-bold uk-padding-small">Draft</span>
    </a>
</div>
</div></td>
                <td><a class="uk-link-toggle" href="Priority.html"><div class="uk-text-bold uk-text-secondary">Priority</div></a></td>
                <td><div class="uk-flex uk-flex-row uk-flex-wrap"></div></td>
              </tr>
              <tr>
                <td>
                    <a class="uk-link-toggle" href="Tag.html"><div class="uk-text-bold uk-text-secondary">Tags</div></a>
                </td>
                <td colspan="5"><div class="uk-flex uk-flex-row uk-flex-wrap"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Tag_sapcontrol.html">
        <span class="uk-text-bold uk-padding-small">sapcontrol</span>
    </a>
</div>
<div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Tag_shell_scripting.html">
        <span class="uk-text-bold uk-padding-small">shell scripting</span>
    </a>
</div>
</div></td>
              </tr>
              <tr><td colspan="6"><hr></td></tr>
<!--
              <tr>
                  <td colspan="6"><div class="uk-flex uk-flex-row uk-flex-wrap"><span class="uk-text-secondary uk-text-meta">Modified on&nbsp;</span><span class="uk-text-meta">s</span></div></td>
              </tr>
              <tr><td colspan="6"><hr></td></tr>
-->
        <tr>
            <td>
                <a class="uk-link-text" href="Command.html">
                    <div class="uk-text-bolder uk-text-secondary uk-text-bold">Command</div>
                </a>
            </td>
            <td colspan="5"><div class="uk-flex uk-flex-row uk-flex-wrap"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Command_sapcontrol.html">
        <span class="uk-text-bold uk-padding-small">sapcontrol</span>
    </a>
</div>
<div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Command_saphostctrl.html">
        <span class="uk-text-bold uk-padding-small">saphostctrl</span>
    </a>
</div>
</div></td>
        </tr>
        <tr>
            <td>
                <a class="uk-link-text" href="Product.html">
                    <div class="uk-text-bolder uk-text-secondary uk-text-bold">Product</div>
                </a>
            </td>
            <td colspan="5"><div class="uk-flex uk-flex-row uk-flex-wrap"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Product_SAP_Netweaver.html">
        <span class="uk-text-bold uk-padding-small">SAP Netweaver</span>
    </a>
</div>
</div></td>
        </tr>
        <tr>
            <td>
                <a class="uk-link-text" href="Tag.html">
                    <div class="uk-text-bolder uk-text-secondary uk-text-bold">Tag</div>
                </a>
            </td>
            <td colspan="5"><div class="uk-flex uk-flex-row uk-flex-wrap"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Tag_sapcontrol.html">
        <span class="uk-text-bold uk-padding-small">sapcontrol</span>
    </a>
</div>
<div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Tag_shell_scripting.html">
        <span class="uk-text-bold uk-padding-small">shell scripting</span>
    </a>
</div>
</div></td>
        </tr>
                <tr>
                    <td colspan="6" align="center">
                        <!-- View Asciidoc Source Button :: START -->
                        <a class="uk-button uk-button-danger" href="#modal-full" uk-toggle>Source</a>
                        <div id="modal-full" class="uk-modal-full" uk-modal>
                            <div class="uk-modal-dialog">
                                <button class="uk-modal-close-full uk-close-large uk-background-muted" type="button" uk-close></button>
                                <div class="uk-grid-collapse uk-child-width-expand@s uk-flex-middle" uk-grid>
                                    <div class="uk-padding-large uk-background-muted">
                                        <div class="uk-text-lead">Asciidoc Source</div>
                                        <div class="uk-text-meta">SAP-BC-GET-STATUS.adoc</div>
                                        <pre>= Get SAP status from command line
:Author:        Tomás Vírseda
:Scope:         SAP Administration
:Category:      Note
:Status:        Draft
:Team:          SAP
:Tag:           shell scripting, sapcontrol
:Command:       sapcontrol, saphostctrl
:Product:       SAP Netweaver

// END-OF-HEADER. DO NOT MODIFY OR DELETE THIS LINE

== Introduction
Useful commands to check the availability of a SAP instance or other SAP service running in a host


== Procedure

Login as <sid>adm.

TIP: `NN` stands for 2-digits Instance Number

=== ABAP

Get SAP Kernel version:

`sapcontrol -nr NN -function GetVersionInfo`

Output:

----
18.07.2010 18:35:10
GetVersionInfo
OK
Filename, VersionInfo, Time
/usr/sap/DEV/DVEBMGS20/exe/sapstartsrv, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:44:34
/usr/sap/DEV/DVEBMGS20/exe/disp+work, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:50:46
/usr/sap/DEV/DVEBMGS20/exe/gwrd, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:30
/usr/sap/DEV/DVEBMGS20/exe/msg_server, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:25
/usr/sap/DEV/DVEBMGS20/exe/dboraslib.so, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:07:39
/usr/sap/DEV/DVEBMGS20/exe/dbdb6slib.so, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:07:38
/usr/sap/DEV/DVEBMGS20/exe/dbsybslib.so, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:07:39
/usr/sap/DEV/DVEBMGS20/exe/enserver, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:21
/usr/sap/DEV/DVEBMGS20/exe/enq_server, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:22
/usr/sap/DEV/DVEBMGS20/exe/icman, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:30
/usr/sap/DEV/DVEBMGS20/exe/sapwebdisp, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:30
/usr/sap/DEV/DVEBMGS20/exe/jcontrol, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:09:08
/usr/sap/DEV/DVEBMGS20/exe/jlaunch, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:25:19
/usr/sap/DEV/DVEBMGS20/exe/jstart, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:34:49
----

=== JAVA

Get Java Instance details:

`sapcontrol -nr NN -function GetProcessList`

`sapcontrol -nr NN -function J2EEGetProcessList`

`sapcontrol -nr NN -function GetSystemInstanceList`

=== Database

Get database status:

`/usr/sap/hostctrl/exe/saphostctrl -function GetDatabaseStatus -dbname DEV -dbtype ora`

.Output:

----
Database Status: Running
    Component name: Instance (Instance), Status: Running (Instance is started)
    Component name: Database (Database), Status: Running (Database is in normal state)
    Component name: Archiver (Archiver), Status: Running (Archiver is started)
    Component name: Listener (Listener), Status: Running (Listener is started)
----
</pre>
                                    </div>
                                </div>
                            </div>
                        </div> <!-- View Source Button :: END -->
                    </td>
                </tr>
            </table>
        </div>
    </li>
</ul> <!-- Document Metadata section :: END -->
</div>
</div>
<div class="uk-margin-small-bottom uk-card uk-card-body uk-card-hover uk-border-rounded">
<h2 id="_introduction">Introduction</h2>
<div class="uk-container">
<div class="paragraph">
<p>Useful commands to check the availability of a SAP instance or other SAP service running in a host</p>
</div>
</div>
</div>
<div class="uk-margin-small-bottom uk-card uk-card-body uk-card-hover uk-border-rounded">
<h2 id="_procedure">Procedure</h2>
<div class="uk-container">
<div class="paragraph">
<p>Login as &lt;sid&gt;adm.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i uk-icon="info" class="uk-text-emphasis" title="Tip"></i>
</td>
<td class="content">
<code>NN</code> stands for 2-digits Instance Number
</td>
</tr>
</table>
</div>
<div class="sect2 uk-card-hover uk-border-rounded uk-padding-small">
<h3 id="_abap">ABAP</h3>
<div class="paragraph">
<p>Get SAP Kernel version:</p>
</div>
<div class="paragraph">
<p><code>sapcontrol -nr NN -function GetVersionInfo</code></p>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>18.07.2010 18:35:10
GetVersionInfo
OK
Filename, VersionInfo, Time
/usr/sap/DEV/DVEBMGS20/exe/sapstartsrv, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:44:34
/usr/sap/DEV/DVEBMGS20/exe/disp+work, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:50:46
/usr/sap/DEV/DVEBMGS20/exe/gwrd, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:30
/usr/sap/DEV/DVEBMGS20/exe/msg_server, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:25
/usr/sap/DEV/DVEBMGS20/exe/dboraslib.so, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:07:39
/usr/sap/DEV/DVEBMGS20/exe/dbdb6slib.so, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:07:38
/usr/sap/DEV/DVEBMGS20/exe/dbsybslib.so, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:07:39
/usr/sap/DEV/DVEBMGS20/exe/enserver, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:21
/usr/sap/DEV/DVEBMGS20/exe/enq_server, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:22
/usr/sap/DEV/DVEBMGS20/exe/icman, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:30
/usr/sap/DEV/DVEBMGS20/exe/sapwebdisp, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:08:30
/usr/sap/DEV/DVEBMGS20/exe/jcontrol, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:09:08
/usr/sap/DEV/DVEBMGS20/exe/jlaunch, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:25:19
/usr/sap/DEV/DVEBMGS20/exe/jstart, 749, patch 301, changelist 1779613, RKS compatibility level 0, optU (Aug  4 2010, 17:07:29), sun_64, 2010 08 04 17:34:49</pre>
</div>
</div>
</div>
<div class="sect2 uk-card-hover uk-border-rounded uk-padding-small">
<h3 id="_java">JAVA</h3>
<div class="paragraph">
<p>Get Java Instance details:</p>
</div>
<div class="paragraph">
<p><code>sapcontrol -nr NN -function GetProcessList</code></p>
</div>
<div class="paragraph">
<p><code>sapcontrol -nr NN -function J2EEGetProcessList</code></p>
</div>
<div class="paragraph">
<p><code>sapcontrol -nr NN -function GetSystemInstanceList</code></p>
</div>
</div>
<div class="sect2 uk-card-hover uk-border-rounded uk-padding-small">
<h3 id="_database">Database</h3>
<div class="paragraph">
<p>Get database status:</p>
</div>
<div class="paragraph">
<p><code>/usr/sap/hostctrl/exe/saphostctrl -function GetDatabaseStatus -dbname DEV -dbtype ora</code></p>
</div>
<div class="listingblock">
<div class="title">Output:</div>
<div class="content">
<pre>Database Status: Running
    Component name: Instance (Instance), Status: Running (Instance is started)
    Component name: Database (Database), Status: Running (Database is in normal state)
    Component name: Archiver (Archiver), Status: Running (Archiver is started)
    Component name: Listener (Listener), Status: Running (Listener is started)</pre>
</div>
</div>
</div>
</div>
</div>        </div>
    </div>
    <!-- CONTENTS (Document) :: END -->
</div>
<div><!-- FOOTER :: START -->
</div><!-- FOOTER :: END -->
<script>
<!-- Necessary javascript for filtering results -->
<!-- Hack found in: https://codepen.io/acidrums4/pen/GBpYbO -->
var input = document.getElementById('text_filter');
var filter = document.getElementById('filter');

input.addEventListener( 'keyup', function(event)
{
    if ( input.value == "" )
    {
        filter.setAttribute( 'uk-filter-control', '[data-*=\'#nodata#\']' );
    }

    else
    {
        filter.setAttribute( 'uk-filter-control', 'filter:[data-title*=\'' + input.value + '\'i]' );
    }

    filter.click();
});
</script>
<!-- GRID LAYOUT :: END -->
</body>
</html>
