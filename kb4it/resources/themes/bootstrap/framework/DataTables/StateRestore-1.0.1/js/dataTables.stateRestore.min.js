/*!
 StateRestore 1.0.1
 2019-2020 SpryMedia Ltd - datatables.net/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(k,p){return Object.prototype.hasOwnProperty.call(k,p)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(k,p,g){if(k==Array.prototype||k==Object.prototype)return k;k[p]=g.value;return k};
$jscomp.getGlobal=function(k){k=["object"==typeof globalThis&&globalThis,k,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var p=0;p<k.length;++p){var g=k[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(k,p){var g=$jscomp.propertyToPolyfillSymbol[p];if(null==g)return k[p];g=k[g];return void 0!==g?g:k[p]};$jscomp.polyfill=function(k,p,g,t){p&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(k,p,g,t):$jscomp.polyfillUnisolated(k,p,g,t))};
$jscomp.polyfillUnisolated=function(k,p,g,t){g=$jscomp.global;k=k.split(".");for(t=0;t<k.length-1;t++){var u=k[t];if(!(u in g))return;g=g[u]}k=k[k.length-1];t=g[k];p=p(t);p!=t&&null!=p&&$jscomp.defineProperty(g,k,{configurable:!0,writable:!0,value:p})};
$jscomp.polyfillIsolated=function(k,p,g,t){var u=k.split(".");k=1===u.length;t=u[0];t=!k&&t in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var m=0;m<u.length-1;m++){var w=u[m];if(!(w in t))return;t=t[w]}u=u[u.length-1];g=$jscomp.IS_SYMBOL_NATIVE&&"es6"===g?t[u]:null;p=p(g);null!=p&&(k?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:p}):p!==g&&($jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(u):$jscomp.POLYFILL_PREFIX+u,u=
$jscomp.propertyToPolyfillSymbol[u],$jscomp.defineProperty(t,u,{configurable:!0,writable:!0,value:p})))};$jscomp.polyfill("Object.values",function(k){return k?k:function(p){var g=[],t;for(t in p)$jscomp.owns(p,t)&&g.push(p[t]);return g}},"es8","es3");$jscomp.polyfill("Object.is",function(k){return k?k:function(p,g){return p===g?0!==p||1/p===1/g:p!==p&&g!==g}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(k){return k?k:function(p,g){var t=this;t instanceof String&&(t=String(t));var u=t.length;g=g||0;for(0>g&&(g=Math.max(g+u,0));g<u;g++){var m=t[g];if(m===p||Object.is(m,p))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(k,p,g){if(null==k)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(p instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return k+""};$jscomp.polyfill("String.prototype.includes",function(k){return k?k:function(p,g){return-1!==$jscomp.checkStringArgs(this,p,"includes").indexOf(p,g||0)}},"es6","es3");
$jscomp.arrayIteratorImpl=function(k){var p=0;return function(){return p<k.length?{done:!1,value:k[p++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(k){if(k)return k;var p=function(u,m){this.$jscomp$symbol$id_=u;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:m})};p.prototype.toString=function(){return this.$jscomp$symbol$id_};var g=0,t=function(u){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new p("jscomp_symbol_"+(u||"")+"_"+g++,u)};return t},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(k){if(k)return k;k=Symbol("Symbol.iterator");for(var p="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<p.length;g++){var t=$jscomp.global[p[g]];"function"===typeof t&&"function"!=typeof t.prototype[k]&&$jscomp.defineProperty(t.prototype,k,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return k},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(k){k={next:k};k[Symbol.iterator]=function(){return this};return k};$jscomp.iteratorFromArray=function(k,p){k instanceof String&&(k+="");var g=0,t={next:function(){if(g<k.length){var u=g++;return{value:p(u,k[u]),done:!1}}t.next=function(){return{done:!0,value:void 0}};return t.next()}};t[Symbol.iterator]=function(){return t};return t};
$jscomp.polyfill("Array.prototype.keys",function(k){return k?k:function(){return $jscomp.iteratorFromArray(this,function(p){return p})}},"es6","es3");$jscomp.findInternal=function(k,p,g){k instanceof String&&(k=String(k));for(var t=k.length,u=0;u<t;u++){var m=k[u];if(p.call(g,m,u,k))return{i:u,v:m}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(k){return k?k:function(p,g){return $jscomp.findInternal(this,p,g).v}},"es6","es3");
(function(){function k(n){g=n;t=n.fn.dataTable}function p(n){m=n;w=n.fn.dataTable}var g,t,u=function(){function n(a,c,d,e,l){void 0===e&&(e=void 0);void 0===l&&(l=!1);if(!t||!t.versionCheck||!t.versionCheck("1.10.0"))throw Error("StateRestore requires DataTables 1.10 or newer");if(!t.Buttons)throw Error("StateRestore requires Buttons");a=new t.Api(a);this.classes=g.extend(!0,{},n.classes);this.c=g.extend(!0,{},n.defaults,c);this.s={dt:a,identifier:d,isPreDefined:l,savedState:null};this.dom={background:g('<div class="'+
this.classes.background+'"/>'),confirmation:g('<div class="'+this.classes.confirmation+'"/>'),confirmationTitleRow:g('<div class="'+this.classes.confirmationTitleRow+'"></div>'),dtContainer:g(this.s.dt.table().container()),duplicateError:g('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError)+"</span>"),emptyError:g('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError)+"</span>"),
removeContents:g('<div class="'+this.classes.confirmationText+'"><span>'+this.s.dt.i18n("stateRestore.removeConfirm",this.c.i18n.removeConfirm).replace(/%s/g,this.s.identifier)+"</span></div>"),removeError:g('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.removeError",this.c.i18n.removeError)+"</span>"),removeTitle:g('<h2 class="'+this.classes.confirmationTitle+'">'+this.s.dt.i18n("stateRestore.removeTitle",this.c.i18n.removeTitle)+"</h2>"),renameContents:g('<div class="'+
this.classes.confirmationText+" "+this.classes.renameModal+'"><label class="'+this.classes.confirmationMessage+'">'+this.s.dt.i18n("stateRestore.renameLabel",this.c.i18n.renameLabel).replace(/%s/g,this.s.identifier)+"</label></div>"),renameInput:g('<input class="'+this.classes.input+'" type="text"></input>'),renameTitle:g('<h2 class="'+this.classes.confirmationTitle+'">'+this.s.dt.i18n("stateRestore.renameTitle",this.c.i18n.renameTitle)+"</h2>")};this.save(e)}n.prototype.remove=function(a){var c,
d=this;void 0===a&&(a=!1);if(!this.c.remove)return!1;var e,l={action:"remove",stateRestore:(c={},c[this.s.identifier]=this.s.savedState,c)};this.c.ajax?"string"===typeof this.c.ajax&&this.s.dt.settings()[0]._bInitComplete?e=function(){d.dom.confirmation.trigger("dtsr-remove");g.ajax({data:l,type:"POST",url:d.c.ajax});return!0}:"function"===typeof this.c.ajax&&(e=function(){d.dom.confirmation.trigger("dtsr-remove");"function"===typeof d.c.ajax&&d.c.ajax.call(d.s.dt,l);return!0}):e=function(){try{localStorage.removeItem("DataTables_stateRestore_"+
d.s.identifier+"_"+location.pathname),d.dom.confirmation.trigger("dtsr-remove")}catch(b){return"remove"}return!0};a?(this.dom.confirmation.appendTo(this.dom.dtContainer),g(this.s.dt.table().node()).trigger("dtsr-modal-inserted"),e(),this.dom.confirmation.remove()):this._newModal(this.dom.removeTitle,this.s.dt.i18n("stateRestore.removeSubmit",this.c.i18n.removeSubmit),e,this.dom.removeContents);return!0};n.prototype.compare=function(a){this.c.saveState.order||(a.order=void 0);this.c.saveState.search||
(a.search=void 0);if(this.c.saveState.columns&&a.columns)for(var c=0,d=a.columns.length;c<d;c++)"boolean"===typeof this.c.saveState.columns||this.c.saveState.columns.visible||(a.columns[c].visible=void 0),"boolean"===typeof this.c.saveState.columns||this.c.saveState.columns.search||(a.columns[c].search=void 0);else this.c.saveState.columns||(a.columns=void 0);this.c.saveState.searchBuilder||(a.searchBuilder=void 0);this.c.saveState.searchPanes||(a.searchPanes=void 0);this.c.saveState.select||(a.select=
void 0);this.c.saveState.colReorder||(a.ColReorder=void 0);this.c.saveState.scroller||(a.scroller=void 0,void 0!==t.Scroller&&(a.start=0));this.c.saveState.paging||(a.start=0);delete a.time;c=this.s.savedState;delete c.time;delete c.c;delete c.stateRestore;return this._deepCompare(a,c)};n.prototype.destroy=function(){Object.values(this.dom).forEach(function(a){return a.off().remove()})};n.prototype.load=function(){var a=this,c=this.s.savedState,d=this.s.dt.settings()[0];c.time=+new Date;d.oLoadedState=
g.extend(!0,{},c);g("div.dt-button-background").click();g.fn.dataTable.ext.oApi._fnImplementState(d,c,function(){a.s.dt.draw(!1)});return c};n.prototype.rename=function(a,c){var d=this;void 0===a&&(a=null);if(this.c.rename){var e=function(){var l;if(null===a){var b=g("input."+d.classes.input.replace(/ /g,".")).val();if(0===b.length)return"empty";if(c.includes(b))return"duplicate";a=b}b={action:"rename",stateRestore:(l={},l[d.s.identifier]=a,l)};if(d.c.ajax)"string"===typeof d.c.ajax&&d.s.dt.settings()[0]._bInitComplete?
(d.dom.confirmation.trigger("dtsr-rename"),g.ajax({data:b,type:"POST",url:d.c.ajax})):"function"===typeof d.c.ajax&&(d.dom.confirmation.trigger("dtsr-rename"),d.c.ajax.call(d.s.dt,b));else try{localStorage.removeItem("DataTables_stateRestore_"+d.s.identifier+"_"+location.pathname)}catch(f){return!1}d.s.identifier=a;d.dom.removeContents=g('<div class="'+d.classes.confirmationText+'"><span>'+d.s.dt.i18n("stateRestore.removeConfirm",d.c.i18n.removeConfirm).replace(/%s/g,d.s.identifier)+"</span></div>");
d.save(d.s.savedState,!1);d.dom.confirmation.trigger("dtsr-rename");return!0};if(null!==a){if(c.includes(a))throw Error(this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError));if(0===a.length)throw Error(this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError));this.dom.confirmation.appendTo(this.dom.dtContainer);g(this.s.dt.table().node()).trigger("dtsr-modal-inserted");e();this.dom.confirmation.remove()}else this.dom.renameInput.val(this.s.identifier),this.dom.renameContents.append(this.dom.renameInput),
this._newModal(this.dom.renameTitle,this.s.dt.i18n("stateRestore.renameButton",this.c.i18n.renameButton),e,this.dom.renameContents)}};n.prototype.save=function(a,c){var d;void 0===c&&(c=!0);if(this.c.save){this.s.dt.state.save();a=void 0===a?this.s.dt.state():a;a.stateRestore={isPreDefined:this.s.isPreDefined,state:this.s.identifier};this.s.savedState=a;this.c.saveState.order||(this.s.savedState.order=void 0);this.c.saveState.search||(this.s.savedState.search=void 0);if(this.c.saveState.columns&&
this.s.savedState.columns){a=0;for(var e=this.s.savedState.columns.length;a<e;a++)"boolean"===typeof this.c.saveState.columns||this.c.saveState.columns.visible||(this.s.savedState.columns[a].visible=void 0),"boolean"===typeof this.c.saveState.columns||this.c.saveState.columns.search||(this.s.savedState.columns[a].search=void 0)}else this.c.saveState.columns||(this.s.savedState.columns=void 0);this.c.saveState.searchBuilder||(this.s.savedState.searchBuilder=void 0);this.c.saveState.searchPanes||(this.s.savedState.searchPanes=
void 0);this.c.saveState.select||(this.s.savedState.select=void 0);this.c.saveState.colReorder||(this.s.savedState.ColReorder=void 0);this.c.saveState.scroller||(this.s.savedState.scroller=void 0,void 0!==t.Scroller&&(this.s.savedState.start=0));this.c.saveState.paging||(this.s.savedState.start=0);this.s.savedState.c=this.c;a={action:"save",stateRestore:(d={},d[this.s.identifier]=this.s.savedState,d)};if(this.c.ajax)"string"===typeof this.c.ajax&&this.s.dt.settings()[0]._bInitComplete?(this.dom.confirmation.trigger("dtsr-save"),
g.ajax({data:a,type:"POST",url:this.c.ajax})):"function"===typeof this.c.ajax&&(this.dom.confirmation.trigger("dtsr-save"),c&&this.c.ajax.call(this.s.dt,a));else try{localStorage.setItem("DataTables_stateRestore_"+this.s.identifier+"_"+location.pathname,JSON.stringify(this.s.savedState)),this.dom.confirmation.trigger("dtsr-save")}catch(l){}}};n.prototype._deepCompare=function(a,c){var d=[a,c];a=[Object.keys(a).sort(),Object.keys(c).sort()];for(c=0;c<a[0].length;c++)0===a[0][c].indexOf("_")&&(a[0].splice(c,
1),c--);for(c=0;c<a[1].length;c++)0===a[1][c].indexOf("_")&&(a[1].splice(c,1),c--);if(a[0].length!==a[1].length){var e=a[0].length>a[1].length?0:1;for(c=0;c<a[e].length;c++)a[0][c]!==a[1][c]&&void 0===d[e][a[e][c]]&&(a[e].splice(c,1),c--);if(a[0].length!==a[1].length)return!1}for(c=0;c<a[0].length;c++){if(a[0][c]!==a[1][c]||typeof d[0][a[0][c]]!==typeof d[1][a[1][c]])return!1;if("object"===typeof d[0][a[0][c]]){if(!this._deepCompare(d[0][a[0][c]],d[1][a[1][c]]))return!1}else if(d[0][a[0][c]]!==d[1][a[1][c]])return!1}return!0};
n.prototype._newModal=function(a,c,d,e){var l=this;this.dom.background.appendTo(this.dom.dtContainer);this.dom.confirmationTitleRow.empty().append(a);var b=g('<button class="'+this.classes.confirmationButton+" "+this.classes.dtButton+'">'+c+"</button>");this.dom.confirmation.empty().append(this.dom.confirmationTitleRow).append(e).append(g('<div class="'+this.classes.confirmationButtons+'"></div>').append(b)).appendTo(this.dom.dtContainer);g(this.s.dt.table().node()).trigger("dtsr-modal-inserted");
a=e.children("input");0<a.length?g(a[0]).focus():b.focus();var f=g("div."+this.classes.background.replace(/ /g,".")),h=function(q){"Enter"===q.key?b.click():"Escape"===q.key&&f.click()};b.on("click",function(){var q=d();!0===q?(l.dom.background.remove(),l.dom.confirmation.remove(),g(document).unbind("keyup",h),b.off("click")):(l.dom.confirmation.children("."+l.classes.modalError).remove(),l.dom.confirmation.append(l.dom[q+"Error"]))});this.dom.confirmation.on("click",function(q){q.stopPropagation()});
f.one("click",function(){l.dom.background.remove();l.dom.confirmation.remove();g(document).unbind("keyup",h)});g(document).on("keyup",h)};n.prototype._searchToHung=function(a){return{bCaseInsensitive:a.caseInsensitive,bRegex:a.regex,bSmart:a.smart,sSearch:a.search}};n.version="1.0.1";n.classes={background:"dtsr-background",confirmation:"dtsr-confirmation",confirmationButton:"dtsr-confirmation-button",confirmationButtons:"dtsr-confirmation-buttons",confirmationMessage:"dtsr-confirmation-message dtsr-name-label",
confirmationText:"dtsr-confirmation-text",confirmationTitle:"dtsr-confirmation-title",confirmationTitleRow:"dtsr-confirmation-title-row",dtButton:"dt-button",input:"dtsr-input",modalError:"dtsr-modal-error",renameModal:"dtsr-rename-modal"};n.defaults={_createInSaved:!1,ajax:!1,create:!0,creationModal:!1,i18n:{creationModal:{button:"Create",colReorder:"Column Order:",columns:{search:"Column Search:",visible:"Column Visibility:"},name:"Name:",order:"Sorting:",paging:"Paging:",scroller:"Scroll Position:",
search:"Search:",searchBuilder:"SearchBuilder:",searchPanes:"SearchPanes:",select:"Select:",title:"Create New State",toggleLabel:"Includes:"},duplicateError:"A state with this name already exists.",emptyError:"Name cannot be empty.",emptyStates:"No saved states",removeConfirm:"Are you sure you want to remove %s?",removeError:"Failed to remove state.",removeJoiner:" and ",removeSubmit:"Remove",removeTitle:"Remove State",renameButton:"Rename",renameLabel:"New Name for %s:",renameTitle:"Rename State"},
remove:!0,rename:!0,save:!0,saveState:{colReorder:!0,columns:{search:!0,visible:!0},order:!0,paging:!0,scroller:!0,search:!0,searchBuilder:!0,searchPanes:!0,select:!0},toggle:{colReorder:!1,columns:{search:!1,visible:!1},order:!1,paging:!1,scroller:!1,search:!1,searchBuilder:!1,searchPanes:!1,select:!1}};return n}(),m,w,C=function(){function n(a,c){var d=this;if(!w||!w.versionCheck||!w.versionCheck("1.10.0"))throw Error("StateRestore requires DataTables 1.10 or newer");if(!w.Buttons)throw Error("StateRestore requires Buttons");
a=new w.Api(a);this.classes=m.extend(!0,{},n.classes);if(void 0===a.settings()[0]._stateRestore){this.c=m.extend(!0,{},n.defaults,c);this.s={dt:a,hasColReorder:void 0!==w.ColReorder,hasScroller:void 0!==w.Scroller,hasSearchBuilder:void 0!==w.SearchBuilder,hasSearchPanes:void 0!==w.SearchPanes,hasSelect:void 0!==w.select,states:[]};this.s.dt.on("xhr",function(b,f,h){h&&h.stateRestore&&d._addPreDefined(h.stateRestore)});this.dom={background:m('<div class="'+this.classes.background+'"/>'),colReorderToggle:m('<div class="'+
this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.colReorderToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.colReorder",this.c.i18n.creationModal.colReorder)+"</label></div>"),columnsSearchToggle:m('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.columnsSearchToggle+" "+this.classes.checkBox+'" checked><label class="'+
this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.columns.search",this.c.i18n.creationModal.columns.search)+"</label></div>"),columnsVisibleToggle:m('<div class="'+this.classes.formRow+" "+this.classes.checkRow+' "><input type="checkbox" class="'+this.classes.columnsVisibleToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.columns.visible",this.c.i18n.creationModal.columns.visible)+"</label></div>"),
confirmation:m('<div class="'+this.classes.confirmation+'"/>'),confirmationTitleRow:m('<div class="'+this.classes.confirmationTitleRow+'"></div>'),createButtonRow:m('<div class="'+this.classes.formRow+" "+this.classes.modalFoot+'"><button class="'+this.classes.creationButton+" "+this.classes.dtButton+'">'+this.s.dt.i18n("stateRestore.creationModal.button",this.c.i18n.creationModal.button)+"</button></div>"),creation:m('<div class="'+this.classes.creation+'"/>'),creationForm:m('<div class="'+this.classes.creationForm+
'"/>'),creationTitle:m('<div class="'+this.classes.creationText+'"><h2 class="'+this.classes.creationTitle+'">'+this.s.dt.i18n("stateRestore.creationModal.title",this.c.i18n.creationModal.title)+"</h2></div>"),dtContainer:m(this.s.dt.table().container()),duplicateError:m('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError)+"</span>"),emptyError:m('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError)+
"</span>"),nameInputRow:m('<div class="'+this.classes.formRow+'"><label class="'+this.classes.nameLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.name",this.c.i18n.creationModal.name)+'</label><input class="'+this.classes.nameInput+'" type="text"></div>'),orderToggle:m('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.orderToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.order",
this.c.i18n.creationModal.order)+"</label></div>"),pagingToggle:m('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.pagingToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.paging",this.c.i18n.creationModal.paging)+"</label></div>"),removeContents:m('<div class="'+this.classes.confirmationText+'"><span></span></div>'),removeTitle:m('<div class="'+this.classes.creationText+
'"><h2 class="'+this.classes.creationTitle+'">'+this.s.dt.i18n("stateRestore.removeTitle",this.c.i18n.removeTitle)+"</h2></div>"),scrollerToggle:m('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.scrollerToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.scroller",this.c.i18n.creationModal.scroller)+"</label></div>"),searchBuilderToggle:m('<div class="'+this.classes.formRow+
" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.searchBuilderToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.searchBuilder",this.c.i18n.creationModal.searchBuilder)+"</label></div>"),searchPanesToggle:m('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.searchPanesToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+
'">'+this.s.dt.i18n("stateRestore.creationModal.searchPanes",this.c.i18n.creationModal.searchPanes)+"</label></div>"),searchToggle:m('<div class="'+this.classes.formRow+" "+this.classes.checkRow+'"><input type="checkbox" class="'+this.classes.searchToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.search",this.c.i18n.creationModal.search)+"</label></div>"),selectToggle:m('<div class="'+this.classes.formRow+" "+this.classes.checkRow+
'"><input type="checkbox" class="'+this.classes.selectToggle+" "+this.classes.checkBox+'" checked><label class="'+this.classes.checkLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.select",this.c.i18n.creationModal.select)+"</label></div>"),toggleLabel:m('<label class="'+this.classes.nameLabel+" "+this.classes.toggleLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.toggleLabel",this.c.i18n.creationModal.toggleLabel)+"</label>")};a.settings()[0]._stateRestore=this;this._searchForStates();
this._addPreDefined(this.c.preDefined);var e,l={action:"load"};"function"===typeof this.c.ajax?e=function(){"function"===typeof d.c.ajax&&d.c.ajax.call(d.s.dt,l,function(b){return d._addPreDefined(b)})}:"string"===typeof this.c.ajax&&(e=function(){m.ajax({data:l,success:function(b){d._addPreDefined(b)},type:"POST",url:d.c.ajax})});if("function"===typeof e)if(this.s.dt.settings()[0]._bInitComplete)e();else this.s.dt.one("preInit.dtsr",function(){e()});this.s.dt.on("destroy.dtsr",function(){d.destroy()});
this.s.dt.on("draw.dtsr buttons-action.dtsr",function(){return d.findActive()});return this}}n.prototype.addState=function(a,c,d){var e=this;if(this.c.create&&this.c.save){var l=function(b,f){if(0===b.length)return"empty";if(c.includes(b))return"duplicate";e.s.dt.state.save();var h=new u(e.s.dt.settings()[0],m.extend(!0,{},e.c,f,d),b,e.s.dt.state());m(e.s.dt.table().node()).on("dtsr-modal-inserted",function(){h.dom.confirmation.one("dtsr-remove",function(){return e._removeCallback(h.s.identifier)});
h.dom.confirmation.one("dtsr-rename",function(){return e._collectionRebuild()});h.dom.confirmation.one("dtsr-save",function(){return e._collectionRebuild()})});e.s.states.push(h);e._collectionRebuild();return!0};if(null===this.getState(a))if(this.c.creationModal||void 0!==d&&d.creationModal)this._creationModal(l,a,d);else{a=l(a,{});if("empty"===a)throw Error(this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError));if("duplicate"===a)throw Error(this.s.dt.i18n("stateRestore.duplicateError",
this.c.i18n.duplicateError));}else throw Error(this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError));}};n.prototype.removeAll=function(a){if(0!==this.s.states.length){var c=this.s.states.map(function(e){return e.s.identifier}),d=c[0];1<c.length&&(d=c.slice(0,-1).join(", ")+this.s.dt.i18n("stateRestore.removeJoiner",this.c.i18n.removeJoiner)+c.slice(-1));m(this.dom.removeContents.children("span")).text(this.s.dt.i18n("stateRestore.removeConfirm",this.c.i18n.removeConfirm).replace(/%s/g,
d));this._newModal(this.dom.removeTitle,this.s.dt.i18n("stateRestore.removeSubmit",this.c.i18n.removeSubmit),a,this.dom.removeContents)}};n.prototype.destroy=function(){for(var a=0,c=this.s.states;a<c.length;a++)c[a].destroy();Object.values(this.dom).forEach(function(d){d.off();d.remove()});this.s.states=[];this.s.dt.off(".dtsr");m(this.s.dt.table().node()).off(".dtsr")};n.prototype.findActive=function(){this.s.dt.state.save();var a=this.s.dt.state(),c=m("button."+m.fn.DataTable.Buttons.defaults.dom.button.className.replace(/ /g,
"."));0===c.length&&(c=m("a."+m.fn.DataTable.Buttons.defaults.dom.button.className.replace(/ /g,".")));for(var d=0,e=c;d<e.length;d++){var l=e[d];this.s.dt.button(m(l).parent()[0]).active(!1)}d=[];e=0;for(var b=this.s.states;e<b.length;e++){var f=b[e];if(f.compare(a)){d.push({data:f.s.savedState,name:f.s.identifier});for(var h=0,q=c;h<q.length;h++)if(l=q[h],m(l).text()===f.s.identifier){this.s.dt.button(m(l).parent()[0]).active(!0);break}}}return d};n.prototype.getState=function(a){for(var c=0,d=
this.s.states;c<d.length;c++){var e=d[c];if(e.s.identifier===a)return e}return null};n.prototype.getStates=function(a){if(void 0===a)return this.s.states;for(var c=[],d=0;d<a.length;d++){for(var e=a[d],l=!1,b=0,f=this.s.states;b<f.length;b++){var h=f[b];if(e===h.s.identifier){c.push(h);l=!0;break}}l||c.push(void 0)}return c};n.prototype._addPreDefined=function(a){for(var c=this,d=function(f){for(var h=0;h<e.s.states.length;h++)e.s.states[h].s.identifier===f&&e.s.states.splice(h,1);h=a[f];var q=new u(e.s.dt,
m.extend(!0,{},e.c,void 0!==h.c?{saveState:h.c.saveState}:void 0,!0),f,h,!0);q.s.savedState=h;e.s.states.push(q);m(e.s.dt.table().node()).on("dtsr-modal-inserted",function(){q.dom.confirmation.one("dtsr-remove",function(){return c._removeCallback(q.s.identifier)});q.dom.confirmation.one("dtsr-rename",function(){return c._collectionRebuild()});q.dom.confirmation.one("dtsr-save",function(){return c._collectionRebuild()})})},e=this,l=0,b=Object.keys(a).sort(function(f,h){f=+c._getId(f);h=+c._getId(h);
return f>h?1:f<h?-1:0});l<b.length;l++)d(b[l]);this._collectionRebuild()};n.prototype._collectionRebuild=function(){var a=this,c=[];this.c._createInSaved&&c.push("createState");if(0===this.s.states.length)c.push('<span class="'+this.classes.emptyStates+'">'+this.s.dt.i18n("stateRestore.emptyStates",this.c.i18n.emptyStates)+"</span>");else{this.s.states=this.s.states.sort(function(f,h){f=+a._getId(f.s.identifier);h=+a._getId(h.s.identifier);return f>h?1:f<h?-1:0});for(var d=0,e=this.s.states;d<e.length;d++){var l=
e[d],b=[];this.c.save&&l.c.save&&b.push("updateState");this.c.save&&l.c.save&&this.c.rename&&l.c.rename&&b.push("renameState");this.c.remove&&l.c.remove&&b.push("removeState");0<b.length&&b.unshift("<h3>"+l.s.identifier+"</h3>");c.push({_stateRestore:l,config:{split:b},extend:"stateRestore",text:l.s.identifier})}}this.s.dt.button("SaveStateRestore:name").collectionRebuild(c)};n.prototype._creationModal=function(a,c,d){var e=this;this.dom.creation.empty();this.dom.creationForm.empty();this.dom.nameInputRow.children("input").val(c);
this.dom.creationForm.append(this.dom.nameInputRow);var l=this.s.dt.settings()[0].oInit;c=[];var b=void 0!==d&&void 0!==d.toggle;((!b||void 0===d.toggle.order)&&this.c.toggle.order||b&&d.toggle.order)&&this.c.saveState.order&&(void 0===l.ordering||l.ordering)&&c.push(this.dom.orderToggle);((!b||void 0===d.toggle.search)&&this.c.toggle.search||b&&d.toggle.search)&&this.c.saveState.search&&(void 0===l.searching||l.searching)&&c.push(this.dom.searchToggle);((!b||void 0===d.toggle.paging)&&this.c.toggle.paging||
b&&d.toggle.paging)&&this.c.saveState.paging&&(void 0===l.paging||l.paging)&&c.push(this.dom.pagingToggle);this.s.hasColReorder&&((!b||void 0===d.toggle.colReorder)&&this.c.toggle.colReorder||b&&d.toggle.colReorder)&&this.c.saveState.colReorder&&c.push(this.dom.colReorderToggle);this.s.hasScroller&&((!b||void 0===d.toggle.scroller)&&this.c.toggle.scroller||b&&d.toggle.scroller)&&this.c.saveState.scroller&&c.push(this.dom.scrollerToggle);this.s.hasSearchBuilder&&((!b||void 0===d.toggle.searchBuilder)&&
this.c.toggle.searchBuilder||b&&d.toggle.searchBuilder)&&this.c.saveState.searchBuilder&&c.push(this.dom.searchBuilderToggle);this.s.hasSearchPanes&&((!b||void 0===d.toggle.searchPanes)&&this.c.toggle.searchPanes||b&&d.toggle.searchPanes)&&this.c.saveState.searchPanes&&c.push(this.dom.searchPanesToggle);this.s.hasSelect&&((!b||void 0===d.toggle.select)&&this.c.toggle.select||b&&d.toggle.select)&&this.c.saveState.select&&c.push(this.dom.selectToggle);"boolean"===typeof this.c.toggle.columns&&((!b||
void 0===d.toggle.order)&&this.c.toggle.columns||b&&d.toggle.order)&&this.c.saveState.columns?(c.push(this.dom.columnsSearchToggle),c.push(this.dom.columnsVisibleToggle)):(b&&void 0!==d.toggle.columns||"boolean"===typeof this.c.toggle.columns)&&"boolean"===typeof d.toggle.order||("boolean"!==typeof this.c.saveState.columns&&this.c.saveState.columns?((b&&void 0!==d.toggle.columns&&"boolean"!==typeof d.toggle.columns&&d.toggle.columns.search||(!b||void 0===d.toggle.columns||"boolean"!==typeof d.toggle.columns&&
void 0===d.toggle.columns.search)&&"boolean"!==typeof this.c.toggle.columns&&this.c.toggle.columns.search)&&this.c.saveState.columns.search&&c.push(this.dom.columnsSearchToggle),(b&&void 0!==d.toggle.columns&&"boolean"!==typeof d.toggle.columns&&d.toggle.columns.visible||(!b||void 0===d.toggle.columns||"boolean"!==typeof d.toggle.columns&&void 0===d.toggle.columns.visible)&&"boolean"!==typeof this.c.toggle.columns&&this.c.toggle.columns.visible)&&this.c.saveState.columns.visible&&c.push(this.dom.columnsVisibleToggle)):
this.c.saveState.columns&&(c.push(this.dom.columnsSearchToggle),c.push(this.dom.columnsVisibleToggle)));c.sort(function(r,v){r=r.children("label.dtsr-check-label")[0].innerHTML;v=v.children("label.dtsr-check-label")[0].innerHTML;return r<v?-1:r>v?1:0});for(l=0;l<c.length;l++)d=c[l],this.dom.creationForm.append(d);m(this.dom.creationForm.children("div."+this.classes.checkRow)[0]).prepend(this.dom.toggleLabel);this.dom.background.appendTo(this.dom.dtContainer);this.dom.creation.append(this.dom.creationTitle).append(this.dom.creationForm).append(this.dom.createButtonRow).appendTo(this.dom.dtContainer);
m(this.s.dt.table().node()).trigger("dtsr-modal-inserted");l=function(r){m(r.children("label:last-child")).on("click",function(){r.children("input").prop("checked",!r.children("input").prop("checked"))})};for(b=0;b<c.length;b++)d=c[b],l(d);var f=m("button."+this.classes.creationButton.replace(/ /g,"."));c=this.dom.creationForm.find("input");0<c.length?m(c[0]).focus():f.focus();var h=m("div."+this.classes.background.replace(/ /g,".")),q=function(r){"Enter"===r.key?f.click():"Escape"===r.key&&h.click()};
f.on("click",function(){var r={colReorder:e.dom.colReorderToggle.children("input").is(":checked"),columns:{search:e.dom.columnsSearchToggle.children("input").is(":checked"),visible:e.dom.columnsVisibleToggle.children("input").is(":checked")},order:e.dom.orderToggle.children("input").is(":checked"),paging:e.dom.pagingToggle.children("input").is(":checked"),scroller:e.dom.scrollerToggle.children("input").is(":checked"),search:e.dom.searchToggle.children("input").is(":checked"),searchBuilder:e.dom.searchBuilderToggle.children("input").is(":checked"),
searchPanes:e.dom.searchPanesToggle.children("input").is(":checked"),select:e.dom.selectToggle.children("input").is(":checked")};r=a(m("input."+e.classes.nameInput.replace(/ /g,".")).val(),{saveState:r});!0===r?(e.dom.background.remove(),e.dom.creation.remove(),m(document).unbind("keyup",q)):(e.dom.creation.children("."+e.classes.modalError).remove(),e.dom.creation.append(e.dom[r+"Error"]))});h.one("click",function(){e.dom.background.remove();e.dom.creation.remove();m(document).unbind("keyup",q);
e._collectionRebuild()});m(document).on("keyup",q);this.s.dt.state.save()};n.prototype._removeCallback=function(a){for(var c=0;c<this.s.states.length;c++)this.s.states[c].s.identifier===a&&(this.s.states.splice(c,1),c--);this._collectionRebuild();return!0};n.prototype._getId=function(a){var c=this.s.dt.settings()[0].oLanguage;c=void 0!==c.buttons&&void 0!==c.buttons.stateRestore?c.buttons.stateRestore:"State ";if(c.indexOf("%d")===c.length-3)c=new RegExp(c.replace(/%d/g,""));else{var d=c.split("%d");
c=[];for(var e=0;e<d.length;e++)c.push(new RegExp(d[e]))}if(Array.isArray(c))for(d=a,e=0;e<c.length;e++)d=d.replace(c[e],"");else d=a.replace(c,"");return isNaN(+d)||d.length===a?0:+d};n.prototype._newModal=function(a,c,d,e){var l=this;this.dom.background.appendTo(this.dom.dtContainer);this.dom.confirmationTitleRow.empty().append(a);var b=m('<button class="'+this.classes.confirmationButton+" "+this.classes.dtButton+'">'+c+"</button>");this.dom.confirmation.empty().append(this.dom.confirmationTitleRow).append(e).append(m('<div class="'+
this.classes.confirmationButtons+'"></div>').append(b)).appendTo(this.dom.dtContainer);m(this.s.dt.table().node()).trigger("dtsr-modal-inserted");a=e.children("input");0<a.length?m(a[0]).focus():b.focus();var f=m("div."+this.classes.background.replace(/ /g,".")),h=function(q){"Enter"===q.key?b.click():"Escape"===q.key&&f.click()};b.on("click",function(){var q=d(!0);!0===q?(l.dom.background.remove(),l.dom.confirmation.remove(),m(document).unbind("keyup",h),b.off("click")):(l.dom.confirmation.children("."+
l.classes.modalError).remove(),l.dom.confirmation.append(l.dom[q+"Error"]))});this.dom.confirmation.on("click",function(q){q.stopPropagation()});f.one("click",function(){l.dom.background.remove();l.dom.confirmation.remove();m(document).unbind("keyup",h)});m(document).on("keyup",h)};n.prototype._searchForStates=function(){for(var a=this,c=function(b){if(b.match(new RegExp("^DataTables_stateRestore_.*_"+location.pathname.replace(/\//g,"/")+"$"))){b=JSON.parse(localStorage.getItem(b));if(b.stateRestore.isPreDefined)return"continue";
var f=new u(d.s.dt,m.extend(!0,{},d.c,{saveState:b.c.saveState}),b.stateRestore.state,b);f.s.savedState=b;d.s.states.push(f);m(d.s.dt.table().node()).on("dtsr-modal-inserted",function(){f.dom.confirmation.one("dtsr-remove",function(){return a._removeCallback(f.s.identifier)});f.dom.confirmation.one("dtsr-rename",function(){return a._collectionRebuild()});f.dom.confirmation.one("dtsr-save",function(){return a._collectionRebuild()})})}},d=this,e=0,l=Object.keys(localStorage);e<l.length;e++)c(l[e]);
this._collectionRebuild()};n.version="1.0.0";n.classes={background:"dtsr-background",checkBox:"dtsr-check-box",checkLabel:"dtsr-check-label",checkRow:"dtsr-check-row",colReorderToggle:"dtsr-colReorder-toggle",columnsSearchToggle:"dtsr-columns-search-toggle",columnsVisibleToggle:"dtsr-columns-visible-toggle",confirmation:"dtsr-confirmation",confirmationButton:"dtsr-confirmation-button",confirmationButtons:"dtsr-confirmation-buttons",confirmationMessage:"dtsr-confirmation-message dtsr-name-label",confirmationText:"dtsr-confirmation-text",
confirmationTitle:"dtsr-confirmation-title",confirmationTitleRow:"dtsr-confirmation-title-row",creation:"dtsr-creation",creationButton:"dtsr-creation-button",creationForm:"dtsr-creation-form",creationText:"dtsr-creation-text",creationTitle:"dtsr-creation-title",dtButton:"dt-button",emptyStates:"dtsr-emptyStates",formRow:"dtsr-form-row",leftSide:"dtsr-left",modalError:"dtsr-modal-error",modalFoot:"dtsr-modal-foot",nameInput:"dtsr-name-input",nameLabel:"dtsr-name-label",orderToggle:"dtsr-order-toggle",
pagingToggle:"dtsr-paging-toggle",rightSide:"dtsr-right",scrollerToggle:"dtsr-scroller-toggle",searchBuilderToggle:"dtsr-searchBuilder-toggle",searchPanesToggle:"dtsr-searchPanes-toggle",searchToggle:"dtsr-search-toggle",selectToggle:"dtsr-select-toggle",toggleLabel:"dtsr-toggle-title"};n.defaults={_createInSaved:!1,ajax:!1,create:!0,creationModal:!1,i18n:{creationModal:{button:"Create",colReorder:"Column Order",columns:{search:"Column Search",visible:"Column Visibility"},name:"Name:",order:"Sorting",
paging:"Paging",scroller:"Scroll Position",search:"Search",searchBuilder:"SearchBuilder",searchPanes:"SearchPanes",select:"Select",title:"Create New State",toggleLabel:"Includes:"},duplicateError:"A state with this name already exists.",emptyError:"Name cannot be empty.",emptyStates:"No saved states",removeConfirm:"Are you sure you want to remove %s?",removeError:"Failed to remove state.",removeJoiner:" and ",removeSubmit:"Remove",removeTitle:"Remove State",renameButton:"Rename",renameLabel:"New Name for %s:",
renameTitle:"Rename State"},preDefined:{},remove:!0,rename:!0,save:!0,saveState:{colReorder:!0,columns:{search:!0,visible:!0},order:!0,paging:!0,scroller:!0,search:!0,searchBuilder:!0,searchPanes:!0,select:!0},toggle:{colReorder:!1,columns:{search:!1,visible:!1},order:!1,paging:!1,scroller:!1,search:!1,searchBuilder:!1,searchPanes:!1,select:!1}};return n}();(function(n){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(a){return n(a,window,document)}):"object"===typeof exports?
module.exports=function(a,c){a||(a=window);c&&c.fn.dataTable||(c=require("datatables.net")(a,c).$);return n(c,a,a.document)}:n(window.jQuery,window,document)})(function(n,a,c){function d(b,f){f=new n.fn.dataTable.StateRestoreCollection(b,f.config);e(b,f)}function e(b,f){var h=b.stateRestore.states(),q=[],r=b.settings()[0]._stateRestore.c;r._createInSaved&&q.push("createState");if(void 0===h||0===h.length)q.push('<span class="'+f.classes.emptyStates+'">'+b.i18n("stateRestore.emptyStates",f.c.i18n.emptyStates)+
"</span>");else for(f=0;f<h.length;f++){var v=h[f],z=[];r.save&&z.push("updateState");r.save&&r.rename&&z.push("renameState");r.remove&&z.push("removeState");0<z.length&&z.unshift("<h3>"+v.s.identifier+"</h3>");q.push({_stateRestore:v,config:{split:z},extend:"stateRestore",text:v.s.identifier})}b.button("SaveStateRestore:name").collectionRebuild(q)}k(n);p(n);var l=n.fn.dataTable;n.fn.dataTable.StateRestore=u;n.fn.DataTable.StateRestore=u;n.fn.dataTable.StateRestoreCollection=C;n.fn.DataTable.StateRestoreCollection=
C;a=n.fn.dataTable.Api.register;a("stateRestore()",function(){return this});a("stateRestore.state()",function(b){var f=this.context[0];if(!f._stateRestore){var h=n.fn.DataTable.Api(f),q=new n.fn.dataTable.StateRestoreCollection(h,{});e(h,q)}this[0]=f._stateRestore.getState(b);return this});a("stateRestore.state.add()",function(b,f){var h=this.context[0];if(!h._stateRestore){var q=n.fn.DataTable.Api(h),r=new n.fn.dataTable.StateRestoreCollection(q,{});e(q,r)}if(!h._stateRestore.c.create)return this;
if(h._stateRestore.addState){q=[];r=0;for(var v=h._stateRestore.s.states;r<v.length;r++)q.push(v[r].s.identifier);h._stateRestore.addState(b,q,f);return this}});a("stateRestore.states()",function(b){var f=this.context[0];if(!f._stateRestore){var h=n.fn.DataTable.Api(f),q=new n.fn.dataTable.StateRestoreCollection(h,{});e(h,q)}this.length=0;this.push.apply(this,f._stateRestore.getStates(b));return this});a("stateRestore.state().save()",function(){var b=this[0];b.c.save&&b.save();return this});a("stateRestore.state().rename()",
function(b){var f=this.context[0],h=this[0];if(h.c.save){var q=[],r=0;for(f=f._stateRestore.s.states;r<f.length;r++)q.push(f[r].s.identifier);h.rename(b,q)}return this});a("stateRestore.state().load()",function(){this[0].load();return this});a("stateRestore.state().remove()",function(b){var f=this[0];f.c.remove&&f.remove(b);return this});a("stateRestore.states().remove()",function(b){var f=this,h=function(q){var r=!0;f.each(function(v){void 0!==v&&v.c.remove&&(v=v.remove(q),!0!==v&&(r=v))});return r};
this.context[0]._stateRestore.c.remove&&(b?h(b):this.context[0]._stateRestore.removeAll(h));return this});a("stateRestore.activeStates()",function(){this.length=0;this.push.apply(this,this.context[0]._stateRestore.findActive());return this});n.fn.dataTable.ext.buttons.stateRestore={action:function(b,f,h,q){q._stateRestore.load();h.blur()},config:{split:["updateState","renameState","removeState"]},text:function(b){return b.i18n("buttons.stateRestore","State %d",b.stateRestore.states()[0].length+1)}};
n.fn.dataTable.ext.buttons.updateState={action:function(b,f,h,q){n("div.dt-button-background").click();q.parent._stateRestore.save()},text:function(b){return b.i18n("buttons.updateState","Update")}};n.fn.dataTable.ext.buttons.savedStates={buttons:[],extend:"collection",init:function(b,f,h){void 0===b.settings()[0]._stateRestore&&d(b,h)},name:"SaveStateRestore",text:function(b){return b.i18n("buttons.savedStates","Saved States")}};n.fn.dataTable.ext.buttons.savedStatesCreate={buttons:[],extend:"collection",
init:function(b,f,h){void 0===b.settings()[0]._stateRestore&&(void 0===h.config&&(h.config={}),h.config._createInSaved=!0,d(b,h))},name:"SaveStateRestore",text:function(b){return b.i18n("buttons.savedStates","Saved States")}};n.fn.dataTable.ext.buttons.createState={action:function(b,f,h,q){b.stopPropagation();b=f.settings()[0]._stateRestore.c;var r=f.settings()[0].oLanguage;if(b.create&&b.save){var v=f.stateRestore.states().toArray();r=void 0!==r.buttons&&void 0!==r.buttons.stateRestore?r.buttons.stateRestore:
"State ";if(r.indexOf("%d")===r.length-3)var z=new RegExp(r.replace(/%d/g,""));else{var B=r.split("%d");z=[];for(var A=0;A<B.length;A++)r=B[A],z.push(new RegExp(r))}var E=function(y){if(Array.isArray(z)){var x=y;for(var D=0,F=z;D<F.length;D++)x=x.replace(F[D],"")}else x=y.replace(z,"");return isNaN(+x)||x.length===y?0:+x};r=v.map(function(y){return E(y.s.identifier)}).sort(function(y,x){return+y<+x?1:+y>+x?-1:0})[0];f.stateRestore.state.add(f.i18n("buttons.stateRestore","State %d",void 0!==r?r+1:
1),q.config);q=f.stateRestore.states().sort(function(y,x){y=+E(y.s.identifier);x=+E(x.s.identifier);return y>x?1:y<x?-1:0});v=[];b._createInSaved&&(v.push("createState"),v.push(""));for(B=0;B<q.length;B++)A=q[B],r=[],b.save&&r.push("updateState"),b.save&&b.rename&&r.push("renameState"),b.remove&&r.push("removeState"),0<r.length&&r.unshift("<h3>"+A.s.identifier+"</h3>"),v.push({_stateRestore:A,config:{split:r},extend:"stateRestore",text:A.s.identifier});f.button("SaveStateRestore:name").collectionRebuild(v);
h.blur()}},init:function(b,f,h){void 0===b.settings()[0]._stateRestore&&1<b.button("SaveStateRestore:name").length&&d(b,h)},text:function(b){return b.i18n("buttons.createState","Create State")}};n.fn.dataTable.ext.buttons.removeState={action:function(b,f,h,q){q.parent._stateRestore.remove();h.blur()},text:function(b){return b.i18n("buttons.removeState","Remove")}};n.fn.dataTable.ext.buttons.removeAllStates={action:function(b,f,h){f.stateRestore.states().remove(!0);h.blur()},text:function(b){return b.i18n("buttons.removeAllStates",
"Remove All States")}};n.fn.dataTable.ext.buttons.renameState={action:function(b,f,h,q){b=[];var r=0;for(f=f.settings()[0]._stateRestore.s.states;r<f.length;r++)b.push(f[r].s.identifier);q.parent._stateRestore.rename(void 0,b);h.blur()},text:function(b){return b.i18n("buttons.renameState","Rename")}};n(c).on("preInit.dt.dtsr",function(b,f){"dt"!==b.namespace||!f.oInit.stateRestore&&!l.defaults.stateRestore||f._stateRestore||(b=null,void 0===b&&(b=null),f=new l.Api(f),b=b?b:f.init().stateRestore||
l.defaults.stateRestore,b=new C(f,b),e(f,b))})})})();
